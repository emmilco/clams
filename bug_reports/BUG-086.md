# Bug Report: BUG-086

## Title
Gate check pytest timeout (300s) too tight for growing test suite

## First Noticed On Commit
9eb86cd (main branch, 2026-02-10)

## Reproduction Steps
1. Run a gate check that includes the `tests_pass` check (e.g., `calm gate check <task_id> IMPLEMENT-CODE_REVIEW`)
2. The test suite runs with `subprocess.run(["pytest", "-v", "--tb=short"], ..., timeout=300)`
3. With 1862+ tests and growing, the 300-second (5-minute) timeout may be insufficient on slower machines or under load
4. A `subprocess.TimeoutExpired` exception is raised, causing the gate check to fail spuriously

## Expected Behavior
Gate checks should allow sufficient time for the full test suite to complete, and the timeout should be configurable to accommodate different environments and suite sizes.

## Actual Behavior
The timeout is hardcoded to 300 seconds in `_check_tests_pass` in `src/calm/orchestration/gates.py`. Additionally, the `_check_no_skipped` function runs two separate pytest invocations (collect and run) with no timeout at all, which could hang indefinitely.

## Root Cause
The pytest timeout in `_check_tests_pass` (line 167 of `gates.py`) was hardcoded to 300 seconds when the test suite was smaller. As the suite has grown to 1862+ tests, this timeout is increasingly tight. The value was not configurable, so there was no way to adjust it without modifying source code.

Additionally, `_check_no_skipped` ran pytest twice (once for `--collect-only` and once for the full run) without any timeout, which is the opposite problem -- those calls could hang indefinitely.

## Fix Plan
1. Add a `gate_test_timeout` field to `CalmSettings` in `src/calm/config.py` with a default of 600 seconds (10 minutes)
2. Replace the hardcoded `timeout=300` in `_check_tests_pass` with `settings.gate_test_timeout`
3. Add `timeout=settings.gate_test_timeout` to both pytest subprocess calls in `_check_no_skipped`
4. The timeout remains configurable via the `CALM_GATE_TEST_TIMEOUT` environment variable (pydantic-settings convention)
5. Add regression tests verifying the default, configurability, and usage in gate functions

# Bug Report: BUG-082

## Title
Pre-commit config and hook scripts deleted during CALM migration

## First Noticed On Commit
`5c4116f` (Complete CALM migration) — file deleted from working tree. Hook scripts deleted in `0596241` (SPEC-058-08).

## Reproduction Steps
1. `git status` → shows `.pre-commit-config.yaml` as deleted (unstaged)
2. `ls .claude/hooks/check_heavy_imports.py` → file not found
3. `ls .claude/hooks/check_subprocess.py` → file not found
4. `pre-commit run --all-files` → fails (config missing)

## Expected Behavior
Pre-commit hooks run on each commit, catching:
- Top-level imports of heavy packages (torch, sentence_transformers, etc.) — prevents 4-6s startup delays and fork failures (BUG-037, BUG-042)
- `subprocess.run/Popen/call` without `stdin=` handling — prevents test hangs (BUG-056)

## Actual Behavior
Pre-commit config deleted from disk. Hook scripts it references (`.claude/hooks/check_heavy_imports.py`, `.claude/hooks/check_subprocess.py`) were deleted by SPEC-058-08.

## Root Cause
SPEC-058-08 ("Remove deprecated CLAMS/CLAWS code") deleted `.claude/hooks/` directory. The deletion was overly broad — it treated the pre-commit hook scripts as "pre-implementation hook stubs" and removed them along with old CLAMS role files. The `.pre-commit-config.yaml` was subsequently deleted from the working tree since it referenced non-existent scripts.

**Evidence**:
- `git log --all --oneline -- .claude/hooks/check_heavy_imports.py` → deleted in `0596241` (SPEC-058-08)
- `git show 7fe535d:.claude/hooks/check_heavy_imports.py` → script exists with `clams` paths in ALLOWED_MODULES
- Hook scripts contain no CLAMS-specific logic — they're general Python AST checks
- The ALLOWED_MODULES list references `src/clams/embedding/` paths that need updating to `src/calm/embedding/`

## Fix Plan
1. Restore `.claude/hooks/check_heavy_imports.py` with `clams` → `calm` path updates in ALLOWED_MODULES and error messages
2. Restore `.claude/hooks/check_subprocess.py` (no path changes needed)
3. Restore `.pre-commit-config.yaml` (unchanged)
4. Full codebase search for any remaining `clams` references in restored files
5. Verify pre-commit hooks detect known violations

# Bug Report: BUG-087

## Title
CollectionName.CODE vs code_units naming inconsistency

## First Noticed On Commit
9eb86cd (current main HEAD)

## Reproduction Steps
1. Open `src/calm/search/collections.py` and observe `CollectionName.CODE = "code_units"`
2. Compare with other members: `MEMORIES = "memories"`, `COMMITS = "commits"`, `VALUES = "values"`
3. Note that `CODE` does not match its value `code_units` -- all other non-experience members have names that match their values when lowercased

## Expected Behavior
The Python constant name should match the Qdrant collection name for clarity. `CODE_UNITS` -> `"code_units"`, just like `MEMORIES` -> `"memories"`.

## Actual Behavior
`CollectionName.CODE` has the value `"code_units"`. The name `CODE` suggests the value would be `"code"`, which was the source of BUG-079 (where the value was originally `"code"` and had to be fixed to `"code_units"`). Even after BUG-079 fixed the value, the enum member name remained misleading.

## Root Cause
When BUG-079 fixed the collection name value from `"code"` to `"code_units"`, only the value was updated -- the Python constant name `CODE` was left unchanged. This created a naming inconsistency: every other non-experience constant has a name that matches its lowercase value (`MEMORIES` = `"memories"`, `COMMITS` = `"commits"`, `VALUES` = `"values"`), but `CODE` = `"code_units"` breaks this pattern.

The inconsistency is confusing for developers because:
- Seeing `CollectionName.CODE`, you would expect the underlying collection to be named `"code"`
- The actual collection is named `"code_units"`, which would naturally map to `CollectionName.CODE_UNITS`

## Fix Plan
**Approach**: Rename the Python constant from `CODE` to `CODE_UNITS` across the entire codebase. The Qdrant collection name stays `"code_units"`.

### Files Changed
1. **`src/calm/search/collections.py:14`** -- Rename `CODE = "code_units"` to `CODE_UNITS = "code_units"`
2. **`src/calm/search/searcher.py:138,146`** -- Update 2 references
3. **`src/calm/tools/code.py:124,128,132,261,340`** -- Update 5 references
4. **`src/calm/indexers/indexer.py:27`** -- Update 1 reference
5. **`src/calm/orchestration/backups.py:40`** -- Update 1 reference
6. **`tests/search/test_collection_names.py`** -- Update all references + add regression tests
7. **`tests/search/test_searcher.py:160`** -- Update 1 reference

### Regression Tests
- Test that `CollectionName.CODE_UNITS == "code_units"`
- Test that all non-experience CollectionName members have values matching their lowercase name
- Test that `CollectionName.CODE` does NOT exist (prevents reintroduction of old name)

### Risk Assessment
- **Low risk**: Pure rename of a Python constant. No change to Qdrant collection names or data.
- **No data migration needed**: The Qdrant collection remains `"code_units"`.

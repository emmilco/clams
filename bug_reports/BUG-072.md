# Bug Report: BUG-072

## Title
/orchestrate skill not registered in Claude Code skills directory

## First Noticed On Commit
d8a4da8 (current HEAD of main, Feb 8 2026)

## Reproduction Steps
1. Start a new Claude Code session in the CALM project
2. Type `/orchestrate` or have the orchestrator try to invoke it via the Skill tool
3. Claude Code returns "Unknown skill: orchestrate"

## Expected Behavior
The `/orchestrate` skill should activate, loading the orchestrate.md template from `~/.calm/skills/orchestrate.md`, rendering it with dynamic task data via `skill_loader.py`, and injecting it into the conversation context.

## Actual Behavior
Claude Code's Skill tool returns "Unknown skill: orchestrate" because it only searches `~/.claude/skills/` for registered skills. The orchestrate skill exists at `~/.calm/skills/orchestrate.md` but was never registered in `~/.claude/skills/`.

The same issue affects `/wrapup` and `/reflection` skills which also live in `~/.calm/skills/` only.

## Root Cause
SPEC-058-06 created the skill templates and installed them to `~/.calm/skills/`, and SPEC-058-05 built the `skill_loader.py` infrastructure. However, no bridge was created between Claude Code's skill discovery mechanism (`~/.claude/skills/`) and CALM's skill directory (`~/.calm/skills/`).

Claude Code discovers skills by scanning `~/.claude/skills/` for `.md` files and directories with `SKILL.md`. The CALM installer (`src/calm/install/steps.py`) copies skills to `~/.calm/skills/` but never registers them in `~/.claude/skills/`.

The `skill_loader.py` module provides dynamic rendering (injecting task lists into the orchestrate template), but it's never invoked because Claude Code doesn't know about these skills.

## Fix Plan
Create thin wrapper files in `~/.claude/skills/` that serve as Claude Code-compatible skill files pointing to the CALM skill system:

1. **Create `~/.claude/skills/orchestrate/SKILL.md`** â€” A Claude Code skill that:
   - Is discoverable by Claude Code's skill scanner
   - Instructs Claude to run `calm skill load orchestrate` (or equivalent) to get the rendered content
   - Alternatively, contains static instructions that reference the CALM CLI and workflow

2. **Update the CALM installer** (`src/calm/install/steps.py` or a new step) to:
   - Create the skill wrapper in `~/.claude/skills/orchestrate/` during `calm init`
   - Register it in `skill-rules.json` if needed for trigger-based activation

3. **Add regression test** verifying the installer creates the Claude Code skill wrapper

### Acceptance Criteria
- Running `/orchestrate` in Claude Code successfully activates the CALM orchestration workflow
- The `calm init` installer creates the necessary wrapper in `~/.claude/skills/`
- `skill-rules.json` is updated with orchestrate trigger patterns
- Regression test covers skill registration

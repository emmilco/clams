============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
rootdir: /Users/elliotmilco/Documents/GitHub/clams
configfile: pyproject.toml
plugins: mock-3.15.1, hypothesis-6.148.6, anyio-4.12.0, timeout-2.4.0, asyncio-1.3.0
timeout: 120.0s
timeout method: signal
timeout func_only: False
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 2374 items / 41 deselected / 2333 selected

tests/bugs/test_bug_041_searcher_inheritance.py ......                   [  0%]
tests/bugs/test_bug_054_resource_leaks.py ..............                 [  0%]
tests/checks/test_check_hardcoded_paths.py ............................. [  2%]
..............................................                           [  4%]
tests/clustering/test_bug_031_regression.py ..                           [  4%]
tests/clustering/test_clusterer.py ................                      [  4%]
tests/clustering/test_experience.py ..........                           [  5%]
tests/clustering/test_integration.py .....                               [  5%]
tests/clustering/test_types.py .....                                     [  5%]
tests/cold_start/test_ghap_cold_start.py ...............                 [  6%]
tests/cold_start/test_git_cold_start.py ..............                   [  6%]
tests/cold_start/test_memory_cold_start.py ..........                    [  7%]
tests/cold_start/test_values_cold_start.py ..............                [  7%]
tests/context/test_assembler.py .........                                [  8%]
tests/context/test_bug_036_regression.py ....                            [  8%]
tests/context/test_bug_040_type_consistency.py ...........               [  9%]
tests/context/test_data_contracts.py ...................                 [  9%]
tests/context/test_deduplication.py ..........                           [ 10%]
tests/context/test_formatting.py ............                            [ 10%]
tests/context/test_tokens.py .....................................       [ 12%]
tests/embedding/test_bug_014_mps_workaround.py ..                        [ 12%]
tests/embedding/test_minilm.py ...........                               [ 12%]
tests/embedding/test_mock.py ...........                                 [ 13%]
tests/embedding/test_registry.py .....                                   [ 13%]
tests/fixtures/test_cold_start_fixtures.py ................              [ 14%]
tests/gates/test_check_bug_investigation.py .............                [ 14%]
tests/gates/test_cleanup_timeout.py ....                                 [ 15%]
tests/git/test_analyzer.py ...................                           [ 15%]
tests/git/test_reader.py ...................                             [ 16%]
tests/hooks/test_bug_033_regression.py ...                               [ 16%]
tests/hooks/test_bug_050_regression.py ...                               [ 16%]
tests/hooks/test_bug_051_regression.py ...                               [ 17%]
tests/hooks/test_bug_056_regression.py ........                          [ 17%]
tests/hooks/test_check_hash_eq.py ...................................... [ 18%]
...                                                                      [ 19%]
tests/hooks/test_heavy_imports.py ....................................   [ 20%]
tests/hooks/test_hook_schemas.py ....................................... [ 22%]
..                                                                       [ 22%]
tests/hooks/test_hook_validation.py ..........................           [ 23%]
tests/hooks/test_mcp_client.py ................                          [ 24%]
tests/indexers/test_bug_003_regression.py ...                            [ 24%]
tests/indexers/test_bug_012_exclusions.py ..                             [ 24%]
tests/indexers/test_indexer.py ...........                               [ 24%]
tests/indexers/test_tree_sitter.py ............                          [ 25%]
tests/infrastructure/test_command_parity.py ................             [ 26%]
tests/infrastructure/test_config_parity.py ............                  [ 26%]
tests/infrastructure/test_fixture_parity.py .......                      [ 26%]
tests/infrastructure/test_mock_parity.py ............................... [ 28%]
........                                                                 [ 28%]
tests/infrastructure/test_shell_linter_gate.py ..................        [ 29%]
tests/infrastructure/test_shell_parity.py ..............                 [ 29%]
tests/integration/test_boundary_contracts.py ........................... [ 31%]
.............                                                            [ 31%]
tests/integration/test_cold_start_collections.py ................        [ 32%]
tests/integration/test_data_flows.py ..........                          [ 32%]
tests/integration/test_import_isolation.py ............................. [ 34%]
.                                                                        [ 34%]
tests/integration/test_round_trip.py ...........                         [ 34%]
tests/observation/test_collector.py ............................         [ 35%]
tests/observation/test_models.py ...........                             [ 36%]
tests/observation/test_persister.py ............................         [ 37%]
tests/observation/test_utils.py ...............                          [ 38%]
tests/performance/test_benchmarks.py ....                                [ 38%]
tests/performance/test_import_time.py ..........                         [ 38%]
tests/scripts/test_bug_037_verify_timeout.py ..                          [ 38%]
tests/scripts/test_bug_058_worktree_sync.py ....                         [ 38%]
tests/scripts/test_bug_059_worktree_health.py ......                     [ 39%]
tests/scripts/test_bug_060_worktree_overlaps.py .........                [ 39%]
tests/scripts/test_bug_062_regression.py .........                       [ 39%]
tests/scripts/test_bug_063_merge_conflict_check.py .........             [ 40%]
tests/scripts/test_bug_064_regression.py ....                            [ 40%]
tests/scripts/test_bug_065_regression.py ...............                 [ 41%]
tests/scripts/test_bug_066_regression.py .......                         [ 41%]
tests/search/test_results.py ........                                    [ 41%]
tests/search/test_searcher.py ...........................                [ 42%]
tests/search/test_searcher_interface.py ..................               [ 43%]
tests/server/test_bug_042_regression.py ...                              [ 43%]
tests/server/test_bug_043_regression.py ..........                       [ 44%]
tests/server/test_config.py ..................................           [ 45%]
tests/server/test_context_tools.py ...........                           [ 46%]
tests/server/test_enum_schema_conformance.py .................           [ 46%]
tests/server/test_http.py ............                                   [ 47%]
tests/server/test_http_schemas.py ...................................... [ 49%]
...............                                                          [ 49%]
tests/server/test_main.py ...                                            [ 49%]
tests/server/test_response_efficiency.py ..............                  [ 50%]
tests/server/test_session_tools.py .....................                 [ 51%]
tests/server/test_tool_response_schemas.py ............................. [ 52%]
................................                                         [ 53%]
tests/server/tools/test_bug_005_clusterer_initialization.py ....         [ 54%]
tests/server/tools/test_bug_017_regression.py .                          [ 54%]
tests/server/tools/test_bug_019_regression.py ..                         [ 54%]
tests/server/tools/test_bug_020_regression.py ..                         [ 54%]
tests/server/tools/test_bug_021_regression.py ..                         [ 54%]
tests/server/tools/test_bug_022_regression.py ...                        [ 54%]
tests/server/tools/test_bug_023_regression.py ...                        [ 54%]
tests/server/tools/test_bug_024_regression.py .......                    [ 54%]
tests/server/tools/test_bug_025_regression.py ........                   [ 55%]
tests/server/tools/test_bug_026_regression.py .............              [ 55%]
tests/server/tools/test_bug_027_regression.py ...                        [ 56%]
tests/server/tools/test_bug_028_regression.py .......                    [ 56%]
tests/server/tools/test_bug_029_regression.py ..                         [ 56%]
tests/server/tools/test_bug_030_regression.py ...                        [ 56%]
tests/server/tools/test_code.py ............                             [ 57%]
tests/server/tools/test_enums.py ................                        [ 57%]
tests/server/tools/test_errors.py .....                                  [ 57%]
tests/server/tools/test_ghap.py ...................                      [ 58%]
tests/server/tools/test_git.py ..................                        [ 59%]
tests/server/tools/test_input_validation/test_code_validation.py ....... [ 59%]
........................................                                 [ 61%]
tests/server/tools/test_input_validation/test_context_validation.py .... [ 61%]
.................                                                        [ 62%]
tests/server/tools/test_input_validation/test_ghap_validation.py ....... [ 62%]
..............................................................           [ 65%]
tests/server/tools/test_input_validation/test_git_validation.py ........ [ 65%]
.....................                                                    [ 66%]
tests/server/tools/test_input_validation/test_learning_validation.py ... [ 66%]
.....................................                                    [ 68%]
tests/server/tools/test_input_validation/test_memory_validation.py ..... [ 68%]
...........................................                              [ 70%]
tests/server/tools/test_input_validation/test_search_validation.py ..... [ 70%]
.......................                                                  [ 71%]
tests/server/tools/test_input_validation/test_session_validation.py .... [ 71%]
...                                                                      [ 71%]
tests/server/tools/test_learning.py ..................                   [ 72%]
tests/server/tools/test_memory.py ..................                     [ 73%]
tests/server/tools/test_schema.py ...................................... [ 75%]
.                                                                        [ 75%]
tests/server/tools/test_search.py ........                               [ 75%]
tests/server/tools/test_validation.py .................................. [ 76%]
....................................                                     [ 78%]
tests/storage/test_bug_034_regression.py ....                            [ 78%]
tests/storage/test_memory.py ...............                             [ 79%]
tests/storage/test_metadata.py .......................                   [ 80%]
tests/storage/test_qdrant.py .............                               [ 80%]
tests/storage/test_qdrant_filters.py .......                             [ 81%]
tests/test_bug_006_experience_schema.py ...                              [ 81%]
tests/test_bug_052_regression.py ..                                      [ 81%]
tests/test_bug_055_regression.py .....                                   [ 81%]
tests/test_bug_057_regression.py ...                                     [ 81%]
tests/test_bug_061_centralized_dirs.py ..............                    [ 82%]
tests/test_gate_dispatch.py ...............................              [ 83%]
tests/test_json_merge.py ............                                    [ 84%]
tests/test_placeholder.py ..                                             [ 84%]
tests/unit/test_schema_consistency.py ..................                 [ 84%]
tests/unit/test_type_boundaries.py ...........................           [ 86%]
tests/utils/test_datetime.py ........................................... [ 87%]
...................                                                      [ 88%]
tests/utils/test_numeric.py ...........................................  [ 90%]
tests/utils/test_platform.py ............................s.s.....        [ 92%]
tests/utils/test_schema.py ......................................        [ 93%]
tests/utils/test_validation.py ..................................        [ 95%]
tests/validation/test_clustering.py ................                     [ 95%]
tests/validation/test_memory_operations.py ........                      [ 96%]
tests/validation/test_parameter_robustness.py ......................     [ 97%]
tests/validation/test_search_pagination.py ......                        [ 97%]
tests/validation/test_temporal_patterns.py .....................         [ 98%]
tests/values/test_integration.py ....                                    [ 98%]
tests/values/test_store.py .................................             [100%]

=============================== warnings summary ===============================
.venv/lib/python3.12/site-packages/hdbscan/plots.py:448
  /Users/elliotmilco/Documents/GitHub/clams/.venv/lib/python3.12/site-packages/hdbscan/plots.py:448: SyntaxWarning: invalid escape sequence '\l'
    axis.set_ylabel('$\lambda$ value')

.venv/lib/python3.12/site-packages/hdbscan/robust_single_linkage_.py:175
  /Users/elliotmilco/Documents/GitHub/clams/.venv/lib/python3.12/site-packages/hdbscan/robust_single_linkage_.py:175: SyntaxWarning: invalid escape sequence '\{'
    $max \{ core_k(a), core_k(b), 1/\alpha d(a,b) \}$.

tests/clustering/test_bug_031_regression.py: 6 warnings
tests/clustering/test_clusterer.py: 208 warnings
tests/clustering/test_experience.py: 22 warnings
tests/clustering/test_integration.py: 10 warnings
tests/performance/test_benchmarks.py: 8 warnings
tests/validation/test_clustering.py: 30 warnings
tests/validation/test_parameter_robustness.py: 42 warnings
  /Users/elliotmilco/Documents/GitHub/clams/.venv/lib/python3.12/site-packages/sklearn/utils/deprecation.py:132: FutureWarning: 'force_all_finite' was renamed to 'ensure_all_finite' in 1.6 and will be removed in 1.8.
    warnings.warn(

tests/clustering/test_integration.py: 5 warnings
tests/integration/test_boundary_contracts.py: 10 warnings
tests/integration/test_cold_start_collections.py: 16 warnings
tests/integration/test_data_flows.py: 10 warnings
tests/performance/test_benchmarks.py: 1 warning
tests/server/test_main.py: 2 warnings
tests/storage/test_qdrant.py: 13 warnings
tests/storage/test_qdrant_filters.py: 7 warnings
tests/test_bug_006_experience_schema.py: 3 warnings
  /Users/elliotmilco/Documents/GitHub/clams/src/clams/storage/qdrant.py:65: UserWarning: Qdrant client version 1.16.1 is incompatible with server version 1.12.1. Major versions should match and minor version difference must not exceed 1. Set check_compatibility=False to skip version check.
    self._client = AsyncQdrantClient(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
SKIPPED [1] tests/utils/test_platform.py:302: Platform: test only runs on Linux
SKIPPED [1] tests/utils/test_platform.py:316: Platform: requires CUDA (NVIDIA GPU)
=== 2331 passed, 2 skipped, 41 deselected, 395 warnings in 538.34s (0:08:58) ===
